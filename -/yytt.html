<head>
    <meta charset="UTF-8">
    <title>YouTube</title>
    <style>
        :root {
            color-scheme: dark;
            background-color: #111;
        }

        select,
        input {
            font-size: 22px;
            margin: 20px 2px;
            max-width: 800px;
        }

        iframe {
            display: block;
            margin: 0 auto;
        }

        .ddiivv {
            width: 100%;
            height: 600px;
        }
    </style>
    <script>
        onload = function () {
            oo = {};
            oo.jj = {};


            oo.bb1 = document.querySelector('#bbttnn1');
            oo.bb2 = document.querySelector('#bbttnn2');
            oo.bb3 = document.querySelector('#bbttnn3');
            oo.bb4 = document.querySelector('#bbttnn4');
            oo.bb5 = document.querySelector('#bbttnn5');

            oo.tt1 = document.querySelector('#ttxxtt1');
            oo.tt2 = document.querySelector('#ttxxtt2');
            oo.tt3 = document.querySelector('#ttxxtt3');

            oo.ssll = document.querySelector('select');
            oo.iiff = document.querySelector('iframe');


            oo.tt1.value = localStorage.getItem('yyttppll');
            if (!oo.tt1.value) {
                oo.tt1.value = 'PL1Z1KdfmKueYEJsD5Nt1dhqrdzxwdsOpe';
            }


            oo.bb1.onclick = function () {
                oo.lluu = oo.tt1.value;
                localStorage.setItem('yyttppll', oo.lluu);
                oo.lluu = 'https://www.youtube-nocookie.com/embed/videoseries?list=%%%%'.replace('%%%%', oo.lluu);
                oo.iiff.src = oo.lluu;
            };


            oo.bb3.onclick = function () {
                oo.uu = './ppll3.json';
                oo.hh = new XMLHttpRequest();
                oo.hh.open('GET', oo.uu);
                oo.hh.responseType = 'json';
                oo.hh.onload = function () {
                    oo.jj = oo.hh.response;

                    console.dir(oo);
                };
                oo.hh.send();
            };


            oo.bb4.onclick = function () {
                oo.hh = null;
            };


            oo.bb2.onclick = function () {

                oo.ssll.innerHTML = '';
                oo.ii = oo.tt2.value | 0;
                if (oo.ii < 0) { oo.ii = 0; }
                oo.pp = oo.jj.items.slice(oo.ii, oo.ii + 30);

                for (const ll of oo.pp) {
                    oo.oopp = document.createElement('option');
                    oo.oopp.value = ll.list;
                    oo.oopp.textContent = ll.title + ' (' + ll.length + ')';
                    oo.ssll.append(oo.oopp);

                }
                oo.tt1.value = oo.ssll.value;

            };


            oo.ssll.onchange = function () {
                oo.tt1.value = oo.ssll.value;
            };


            oo.bb5.onclick = function () {

                oo.ssll.innerHTML = '';
                oo.sstt = oo.tt3.value.toLowerCase();
                oo.pp = oo.sstt ? oo.jj.items.filter(mm => mm.title.toLowerCase().includes(oo.sstt)) : [];
                oo.ii = oo.tt2.value | 0;
                if (oo.ii < 0) { oo.ii = 0; }
                oo.pp = oo.pp.slice(oo.ii, oo.ii + 30);

                for (const ll of oo.pp) {
                    oo.oopp = document.createElement('option');
                    oo.oopp.value = ll.list;
                    oo.oopp.textContent = ll.title + ' (' + ll.length + ')';
                    oo.ssll.append(oo.oopp);

                }
                oo.tt1.value = oo.ssll.value;


            };


        };

    </script>
</head>

<body>
    <div class="ddiivv"></div>
    <div>
        <input id="bbttnn3" type="button" value="Load JSON 1">
        <input id="bbttnn4" type="button" value="Load JSON 2">
    </div>
    <div><input id="ttxxtt2" type="text" size="10" value="0"><input id="bbttnn2" type="button" value="Page"></div>
    <div><input id="ttxxtt3" type="text" size="30" value=""><input id="bbttnn5" type="button" value="Search"></div>
    <div><select></select></div>
    <div><input id="ttxxtt1" type="text" size="50" value=""><input id="bbttnn1" type="button" value="Play">
    </div>
    <div class="ddiivv"></div>
    <div><iframe width="560" height="315"
            src="https://www.youtube-nocookie.com/embed/videoseries?list=PL1Z1KdfmKueYEJsD5Nt1dhqrdzxwdsOpe"
            title="YouTube video player" frameborder="0"
            allow="autoplay; encrypted-media; picture-in-picture; web-share" allowfullscreen></iframe></div>
    <div class="ddiivv"></div>
</body>